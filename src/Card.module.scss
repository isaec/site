@use "config" as *;
@use "sass:list";

.Card {
  background-color: $color-grey-900;
  margin: $size-5 auto;
  border-radius: $radius-lg;
  will-change: transform; // this little nasty thing will prevent lag on mobile, somehow
  & > p {
    margin: $size-2 $size-4;
    font-size: $scale-5;

    $from-shadow: ();
    $to-shadow: ();

    $blur: 6px;
    // multipliers for 1px
    $vert-offset: 2;
    $hori-offset-from: 2;
    $hori-offset-to: 4;

    @for $i from 1 through length($rainbow) {
      $color: list.nth($rainbow, $i);
      $from-shadow: list.append($from-shadow, $hori-offset-from*$i + unquote("px") $vert-offset*$i + unquote("px") $blur $color);
      $to-shadow: list.append($to-shadow, $hori-offset-to*$i + unquote("px") $vert-offset*$i + unquote("px") $blur $color);
    }

    $from-shadow: list.zip($from-shadow);
    $to-shadow: list.zip($to-shadow);
    @keyframes pulse {
      from {
        text-shadow: $from-shadow;
      }
      to {
        text-shadow: $to-shadow;
      }
    }
    animation: pulse 5s infinite alternate;
  }
  & > .metric {
    width: 95%;
    object-fit: contain;
    min-width: none;
    // contain: paint;
    margin: 0 $size-2
  }
  box-shadow: $elevation-5;
}
